maricopa_2018_congress <- maricopa_2018_results %>%
congress_filter() %>%
tidy_congress_election_data()
View(maricopa_2018_congress)
maricopa_2018_congress <- maricopa_2018_results %>%
congress_filter()
View(maricopa_2016_congress)
maricopa_2012_congress$PRECINCT_NAME %>% n_distinct()
maricopa_2012_congress$PRECINCT_NAME %>% duplicated()
View(maricopa_2012_congress)
maricopa_2014_congress$PRECINCT_NAME %>% duplicated()
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data()
maricopa_2014_congress <- maricopa_2014_results %>%
congress_filter() %>%
tidy_congress_election_data()
maricopa_2016_congress <- maricopa_2016_results %>%
congress_filter() %>%
tidy_congress_election_data()
View(maricopa_2012_congress)
View(maricopa_2014_congress)
View(maricopa_2014_results)
# filter for congressional races and basic calculations of winning margins
congress_filter <- function(df){
congress_races <- df %>%
filter(str_detect(CONTEST_FULL_NAME, "US Rep ")) %>%
select(PRECINCT_NAME, CANDIDATE_FULL_NAME, candidate_party_id, CONTEST_FULL_NAME, TOTAL, PRECINCT_ID, CONTEST_TOTAL) %>%
# mutate(TOTAL_PCT = TOTAL/CONTEST_TOTAL) %>%
group_by(PRECINCT_ID) %>%
arrange(desc(TOTAL)) %>%
mutate(CANDIDATE_PARTY = ifelse(candidate_party_id == 1, "REP",
ifelse(candidate_party_id == 2, "DEM", "OTHERS"))) %>%
#        WINNER = first(CANDIDATE_FULL_NAME),
#        WINNING_PARTY = substr(WINNER, 1, 3),
#        MARGIN_PCT = first(TOTAL_PCT)-nth(TOTAL_PCT, n = 2),
#        MARGIN = first(TOTAL) - nth(TOTAL, n = 2),
#        ))) %>%
ungroup() %>%
arrange(PRECINCT_ID)
# congress_races$TOTAL_PCT <- na_if(congress_races$TOTAL_PCT, NaN)
# congress_races$TOTAL_PCT <- replace_na(congress_races$TOTAL_PCT, 0)
# congress_races$MARGIN_PCT <- na_if(congress_races$MARGIN_PCT, NaN)
# congress_races$MARGIN_PCT <- replace_na(congress_races$MARGIN_PCT, 0)
congress_races
}
# pivot to wider table for each precinct
tidy_congress_election_data <- function(df){
tidy_df <- df %>%
filter(candidate_party_id %in% c(1, 2)) %>%
pivot_wider(id_cols = c(PRECINCT_NAME, CANDIDATE_FULL_NAME, CONTEST_FULL_NAME, CONTEST_TOTAL
# WINNER, WINNING_PARTY, MARGIN_PCT, MARGIN,
),
values_from = c(CANDIDATE_FULL_NAME, TOTAL
# , TOTAL_PCT
),
names_from = CANDIDATE_PARTY)
tidy_df <- tidy_df[,c("PRECINCT_NAME", "CONTEST_FULL_NAME", "CANDIDATE_FULL_NAME_REP", "CANDIDATE_FULL_NAME_DEM",
"CONTEST_TOTAL", "TOTAL_REP", "TOTAL_DEM"
# "TOTAL_PCT_REP", "TOTAL_PCT_DEM", "MARGIN", "MARGIN_PCT", "WINNER", "WINNING_PARTY"
)]
tidy_df
}
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data()
View(maricopa_2012_congress)
maricopa_2014_congress <- maricopa_2014_results %>%
congress_filter() %>%
tidy_congress_election_data()
maricopa_2016_congress <- maricopa_2016_results %>%
congress_filter() %>%
tidy_congress_election_data()
maricopa_2018_congress <- maricopa_2018_results %>%
congress_filter() %>%
tidy_congress_election_data()
View(maricopa_2018_congress)
library(tidyverse)
n_distinct(maricopa_2014_congress$PRECINCT_NAME)
n_distinct(maricopa_2016_congress$PRECINCT_NAME)
n_distinct(maricopa_2012_congress$PRECINCT_NAME)
n_distinct(maricopa_2018_congress$PRECINCT_NAME)
View(maricopa_2018_results)
?if
else
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./congress_race_results/maricopa_2012.csv")
congress_filter <- function(df){
congress_races <- df %>%
filter(str_detect(CONTEST_FULL_NAME, "US Rep ")) %>%
select(PRECINCT_NAME, CANDIDATE_FULL_NAME, candidate_party_id, CONTEST_FULL_NAME, TOTAL, PRECINCT_ID, CONTEST_TOTAL) %>%
mutate(TOTAL_PCT = TOTAL/CONTEST_TOTAL) %>%
group_by(PRECINCT_ID) %>%
arrange(desc(TOTAL)) %>%
mutate(CANDIDATE_PARTY = ifelse(candidate_party_id == 1, "REP",
ifelse(candidate_party_id == 2, "DEM", "OTHERS")),
WINNER = first(CANDIDATE_FULL_NAME),
WINNING_PARTY = substr(WINNER, 1, 3),
MARGIN_PCT = first(TOTAL_PCT)-nth(TOTAL_PCT, n = 2),
MARGIN = first(TOTAL) - nth(TOTAL, n = 2)) %>%
ungroup() %>%
arrange(PRECINCT_ID)
congress_races$TOTAL_PCT <- na_if(congress_races$TOTAL_PCT, NaN)
congress_races$TOTAL_PCT <- replace_na(congress_races$TOTAL_PCT, 0)
congress_races$MARGIN_PCT <- na_if(congress_races$MARGIN_PCT, NaN)
congress_races$MARGIN_PCT <- replace_na(congress_races$MARGIN_PCT, 0)
congress_races
}
# pivot to wider table for each precinct
tidy_congress_election_data <- function(df, csv, location){
tidy_df <- df %>%
filter(candidate_party_id %in% c(1, 2)) %>%
pivot_wider(id_cols = c(PRECINCT_NAME, CANDIDATE_FULL_NAME, CONTEST_FULL_NAME, CONTEST_TOTAL,
WINNER, WINNING_PARTY, MARGIN_PCT, MARGIN
),
values_from = c(CANDIDATE_FULL_NAME, TOTAL, TOTAL_PCT),
names_from = CANDIDATE_PARTY)
tidy_df <- tidy_df[,c("PRECINCT_NAME", "CONTEST_FULL_NAME", "CANDIDATE_FULL_NAME_REP", "CANDIDATE_FULL_NAME_DEM",
"CONTEST_TOTAL", "TOTAL_REP", "TOTAL_DEM", "TOTAL_PCT_REP", "TOTAL_PCT_DEM",
"MARGIN", "MARGIN_PCT", "WINNER", "WINNING_PARTY"
)]
if(csv == T){
write_csv(tidy_df, path = location)
}
tidy_df
}
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./congress_race_results/maricopa_2012.csv")
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./CongressRaceResults/maricopa_2012.csv")
maricopa_2014_congress <- maricopa_2014_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./CongressRaceResults/maricopa_2014.csv")
maricopa_2016_congress <- maricopa_2016_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./CongressRaceResults/maricopa_2016.csv")
maricopa_2018_congress <- maricopa_2018_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./CongressRaceResults/maricopa_2018.csv")
duplicated(maricopa_2014_congress$PRECINCT_NAME)
View(maricopa_2014_congress)
View(maricopa_2012_congress)
# filter for congressional races and basic calculations of winning margins
congress_filter <- function(df){
congress_races <- df %>%
filter(str_detect(CONTEST_FULL_NAME, "US Rep ")) %>%
select(PRECINCT_NAME, CANDIDATE_FULL_NAME, candidate_party_id, CONTEST_FULL_NAME, TOTAL, PRECINCT_ID, CONTEST_TOTAL) %>%
mutate(TOTAL_PCT = ifelse(TOTAL != 0, TOTAL/CONTEST_TOTAL, 0)) %>%
group_by(PRECINCT_ID) %>%
arrange(desc(TOTAL)) %>%
mutate(CANDIDATE_PARTY = ifelse(candidate_party_id == 1, "REP",
ifelse(candidate_party_id == 2, "DEM", "OTHERS")),
WINNER = first(CANDIDATE_FULL_NAME),
WINNING_PARTY = substr(WINNER, 1, 3),
MARGIN_PCT = first(TOTAL_PCT)-nth(TOTAL_PCT, n = 2),
MARGIN = first(TOTAL) - nth(TOTAL, n = 2)) %>%
ungroup() %>%
arrange(PRECINCT_ID)
congress_races$TOTAL_PCT <- na_if(congress_races$TOTAL_PCT, NaN)
congress_races$TOTAL_PCT <- replace_na(congress_races$TOTAL_PCT, 0)
congress_races$MARGIN_PCT <- na_if(congress_races$MARGIN_PCT, NaN)
congress_races$MARGIN_PCT <- replace_na(congress_races$MARGIN_PCT, 0)
congress_races
}
# pivot to wider table for each precinct
tidy_congress_election_data <- function(df, csv, location){
tidy_df <- df %>%
filter(candidate_party_id %in% c(1, 2)) %>%
pivot_wider(id_cols = c(PRECINCT_NAME, CANDIDATE_FULL_NAME, CONTEST_FULL_NAME, CONTEST_TOTAL,
WINNER, WINNING_PARTY, MARGIN_PCT, MARGIN
),
values_from = c(CANDIDATE_FULL_NAME, TOTAL, TOTAL_PCT),
names_from = CANDIDATE_PARTY)
tidy_df <- tidy_df[,c("PRECINCT_NAME", "CONTEST_FULL_NAME", "CANDIDATE_FULL_NAME_REP", "CANDIDATE_FULL_NAME_DEM",
"CONTEST_TOTAL", "TOTAL_REP", "TOTAL_DEM", "TOTAL_PCT_REP", "TOTAL_PCT_DEM",
"MARGIN", "MARGIN_PCT", "WINNER", "WINNING_PARTY"
)]
if(csv == T){
write_csv(tidy_df, path = location)
}
tidy_df
}
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./CongressRaceResults/maricopa_2012.csv")
View(maricopa_2012_congress)
# filter for congressional races and basic calculations of winning margins
congress_filter <- function(df){
congress_races <- df %>%
filter(str_detect(CONTEST_FULL_NAME, "US Rep ")) %>%
select(PRECINCT_NAME, CANDIDATE_FULL_NAME, candidate_party_id, CONTEST_FULL_NAME, TOTAL, PRECINCT_ID, CONTEST_TOTAL) %>%
mutate(TOTAL_PCT = ifelse(TOTAL != 0, TOTAL/CONTEST_TOTAL, 0)) %>%
group_by(PRECINCT_ID) %>%
arrange(desc(TOTAL)) %>%
mutate(CANDIDATE_PARTY = ifelse(candidate_party_id == 1, "REP",
ifelse(candidate_party_id == 2, "DEM", "OTHERS")),
WINNER = first(CANDIDATE_FULL_NAME),
WINNING_PARTY = substr(WINNER, 1, 3),
MARGIN_PCT = first(TOTAL_PCT)-nth(TOTAL_PCT, n = 2),
MARGIN = first(TOTAL) - nth(TOTAL, n = 2)) %>%
ungroup() %>%
arrange(PRECINCT_ID)
# congress_races$TOTAL_PCT <- na_if(congress_races$TOTAL_PCT, NaN)
# congress_races$TOTAL_PCT <- replace_na(congress_races$TOTAL_PCT, 0)
# congress_races$MARGIN_PCT <- na_if(congress_races$MARGIN_PCT, NaN)
# congress_races$MARGIN_PCT <- replace_na(congress_races$MARGIN_PCT, 0)
congress_races
}
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter()
View(maricopa_2012_congress)
# pivot to wider table for each precinct
tidy_congress_election_data <- function(df, csv, location){
tidy_df <- df %>%
filter(candidate_party_id %in% c(1, 2)) %>%
pivot_wider(id_cols = c(PRECINCT_NAME, CANDIDATE_FULL_NAME, CONTEST_FULL_NAME, CONTEST_TOTAL,
WINNER, WINNING_PARTY, MARGIN_PCT, MARGIN
),
values_from = c(CANDIDATE_FULL_NAME, TOTAL, TOTAL_PCT),
names_from = CANDIDATE_PARTY)
tidy_df <- tidy_df[,c("PRECINCT_NAME", "CONTEST_FULL_NAME", "CANDIDATE_FULL_NAME_REP", "CANDIDATE_FULL_NAME_DEM",
"CONTEST_TOTAL", "TOTAL_REP", "TOTAL_DEM", "TOTAL_PCT_REP", "TOTAL_PCT_DEM",
"MARGIN", "MARGIN_PCT", "WINNER", "WINNING_PARTY"
)]
if(csv == T){
write_csv(tidy_df, path = location)
}
tidy_df
}
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter()
tidy_congress_election_data(csv = F, location = "./CongressRaceResults/maricopa_2012.csv")
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = F, location = "./CongressRaceResults/maricopa_2012.csv")
View(maricopa_2012_congress)
tidy_df <- df %>%
filter(candidate_party_id %in% c(1, 2)) %>%
pivot_wider(id_cols = c(PRECINCT_NAME, CANDIDATE_FULL_NAME, CONTEST_FULL_NAME, CONTEST_TOTAL,
WINNER, WINNING_PARTY, MARGIN_PCT, MARGIN
),
values_from = c(CANDIDATE_FULL_NAME, TOTAL, TOTAL_PCT),
names_from = CANDIDATE_PARTY,
na.rm = F)
tidy_df <- df %>%
filter(candidate_party_id %in% c(1, 2)) %>%
pivot_wider(id_cols = c(PRECINCT_NAME, CANDIDATE_FULL_NAME, CONTEST_FULL_NAME, CONTEST_TOTAL,
WINNER, WINNING_PARTY, MARGIN_PCT, MARGIN
),
values_from = c(CANDIDATE_FULL_NAME, TOTAL, TOTAL_PCT),
names_from = CANDIDATE_PARTY,
na.rm = F)
maricopa_2012_congress <- maricopa_2012_results %>%
congress_filter()
View(maricopa_2012_congress)
maricopa_2014_congress <- maricopa_2014_results %>%
congress_filter() %>%
tidy_congress_election_data(csv = T, location = "./CongressRaceResults/maricopa_2014.csv")
View(maricopa_2014_congress)
View(maricopa_basics_2013)
knitr::opts_chunk$set(echo = TRUE)
library(sf)
library(tidycensus)
library(tidyverse)
options(tigris_use_cache = T)
# # 2019
# maricopa_basics_2019 <- get_acs(geography = "tract",
#                                 survey = "acs1",
#                                 state = "AZ",
#                                 county = "Maricopa",
#                                 year = 2019,
#                                 variables = c(med_income = "B06011_001", med_age = "B01002_001", total_pop = "B01001_001"))
# maricopa_demographics_2019 <- get_acs(geography = "tract",
#                                       state = "AZ",
#                                       county = "Maricopa",
#                                       year = 2019,
#                                       variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
#                                                     asian = "B03002_006", native = "B03002_005"))
# 2018
maricopa_basics_2018 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2018,
geometry = T,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2018 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2018,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2017
maricopa_basics_2017 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2017,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2017 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2017,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2016
maricopa_basics_2016 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2016,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2016 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2016,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2015
maricopa_basics_2015 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2015,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2015 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2015,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2014
maricopa_basics_2018 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2014,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2018 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2014,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2013
maricopa_basics_2013 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2013,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2013 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2013,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2012
maricopa_basics_2012 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2012,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2012 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2012,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
demographics_objects <- c(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
# 2014
maricopa_basics_2014 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2014,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2014 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2014,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
# 2018
maricopa_basics_2018 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2018,
#geometry = T,
variables = c(med_income = "B19013_001", med_age = "B01002_001", total_pop = "B00001_001"))
maricopa_demographics_2018 <- get_acs(geography = "tract",
state = "AZ",
county = "Maricopa",
year = 2018,
variables = c(white = "B03002_003", hispanic = "B03002_012", black = "B03002_004",
asian = "B03002_006", native = "B03002_005"))
demographics_objects <- c(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
deparse(quote(maricopa_basics_2012))
for(i in demographics_objects){
write_csv(i, path = paste("./Demographics/", deparse(quote(i)), ".csv", sep = ""))
saveRDS(i, path = paste("./Demographics/", deparse(quote(i)), ".RDS", sep = ""))
}
demographics_objects <- c(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
for(i in demographics_objects){
write_csv(i, path = paste("./Demographics/", deparse(quote(i)), ".csv", sep = ""))
saveRDS(i, path = paste("./Demographics/", deparse(quote(i)), ".RDS", sep = ""))
}
demographics_objects[1]
demographics_objects <- as.list(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
View(demographics_objects)
demographics_objects <- as.list.data.frame(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
demographics_objects <- list(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
for(i in demographics_objects){
write_csv(i, path = paste("./Demographics/", deparse(quote(i)), ".csv", sep = ""))
saveRDS(i, path = paste("./Demographics/", deparse(quote(i)), ".RDS", sep = ""))
}
demographics_objects[1]
demographics_objects_list <- list(maricopa_basics_2012, maricopa_basics_2013, maricopa_basics_2014, maricopa_basics_2015, maricopa_basics_2016, maricopa_basics_2017, maricopa_basics_2018, maricopa_demographics_2012, maricopa_demographics_2013, maricopa_demographics_2014, maricopa_demographics_2015, maricopa_demographics_2016, maricopa_demographics_2017, maricopa_demographics_2018)
demographics_objects_namelist <- c("maricopa_basics_2012", "maricopa_basics_2013", "maricopa_basics_2014", "maricopa_basics_2015", "maricopa_basics_2016", "maricopa_basics_2017", "maricopa_basics_2018", "maricopa_demographics_2012", "maricopa_demographics_2013", "maricopa_demographics_2014", "maricopa_demographics_2015", "maricopa_demographics_2016", "maricopa_demographics_2017", "maricopa_demographics_2018")
sapply(1:14, function(x){
write_csv(demographics_objects_list[x], path = paste("./Demographics/", demographics_objects_namelist[x], ".csv", sep = ""))
saveRDS(demographics_objects_list[x], path = paste("./Demographics/", demographics_objects_namelist[x], ".RDS", sep = ""))
})
is.data.frame(demographics_objects_list[1])
is(demographics_objects_list[1])
is(as.data.frame(demographics_objects_list[1]))
write_csv(as.data.frame(demographics_objects_list[x]), path = paste("./Demographics/", demographics_objects_namelist[x], ".csv", sep = ""))
sapply(1:14, function(x){
write_csv(as.data.frame(demographics_objects_list[x]), path = paste("./Demographics/", demographics_objects_namelist[x], ".csv", sep = ""))
saveRDS(demographics_objects_list[x], path = paste("./Demographics/", demographics_objects_namelist[x], ".RDS", sep = ""))
})
saveRDS(demographics_objects_list[x], paste("./Demographics/", demographics_objects_namelist[x], ".RDS", sep = ""))
sapply(1:14, function(x){
write_csv(as.data.frame(demographics_objects_list[x]), path = paste("./Demographics/", demographics_objects_namelist[x], ".csv", sep = ""))
saveRDS(demographics_objects_list[x], paste("./Demographics/", demographics_objects_namelist[x], ".RDS", sep = ""))
})
maricopa_demographics_2012 <- readRDS("./Demographics/maricopa_demographics_2012.RDS")
maricopa_demographics_2013 <- readRDS("./Demographics/maricopa_demographics_2013.RDS")
maricopa_demographics_2014 <- readRDS("./Demographics/maricopa_demographics_2014.RDS")
maricopa_demographics_2015 <- readRDS("./Demographics/maricopa_demographics_2015.RDS")
maricopa_demographics_2016 <- readRDS("./Demographics/maricopa_demographics_2016.RDS")
maricopa_demographics_2017 <- readRDS("./Demographics/maricopa_demographics_2017.RDS")
maricopa_demographics_2018 <- readRDS("./Demographics/maricopa_demographics_2018.RDS")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidycensus)
options(tigris_use_cache = T)
# loading election data
maricopa_2012_congress <- read_csv("./CongressRaceResults/maricopa_2012_corrected.csv")
maricopa_2014_congress <- read_csv("./CongressRaceResults/maricopa_2014_corrected.csv")
maricopa_2016_congress <- read_csv("./CongressRaceResults/maricopa_2016_corrected.csv")
maricopa_2018_congress <- read_csv("./CongressRaceResults/maricopa_2018_corrected.csv")
# loading demographic data
maricopa_basics_2012 <- readRDS("./Demographics/maricopa_basics_2012.RDS")
maricopa_basics_2013 <- readRDS("./Demographics/maricopa_basics_2013.RDS")
maricopa_basics_2014 <- readRDS("./Demographics/maricopa_basics_2014.RDS")
maricopa_basics_2015 <- readRDS("./Demographics/maricopa_basics_2015.RDS")
maricopa_basics_2016 <- readRDS("./Demographics/maricopa_basics_2016.RDS")
maricopa_basics_2017 <- readRDS("./Demographics/maricopa_basics_2017.RDS")
maricopa_basics_2018 <- readRDS("./Demographics/maricopa_basics_2018.RDS")
maricopa_demographics_2012 <- readRDS("./Demographics/maricopa_demographics_2012.RDS")
maricopa_demographics_2013 <- readRDS("./Demographics/maricopa_demographics_2013.RDS")
maricopa_demographics_2014 <- readRDS("./Demographics/maricopa_demographics_2014.RDS")
maricopa_demographics_2015 <- readRDS("./Demographics/maricopa_demographics_2015.RDS")
maricopa_demographics_2016 <- readRDS("./Demographics/maricopa_demographics_2016.RDS")
maricopa_demographics_2017 <- readRDS("./Demographics/maricopa_demographics_2017.RDS")
maricopa_demographics_2018 <- readRDS("./Demographics/maricopa_demographics_2018.RDS")
View(maricopa_basics_2012)
# loading demographic data
maricopa_basics_2012 <- readRDS("./Demographics/maricopa_basics_2012.RDS") %>%
unlist()
# loading demographic data
maricopa_basics_2012 <- readRDS("./Demographics/maricopa_basics_2012.RDS") %>%
.[1]
# loading demographic data
maricopa_basics_2012 <- readRDS("./Demographics/maricopa_basics_2012.RDS") %>%
.[[1]]
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidycensus)
options(tigris_use_cache = T)
# loading election data
maricopa_2012_congress <- read_csv("./CongressRaceResults/maricopa_2012_corrected.csv")
maricopa_2014_congress <- read_csv("./CongressRaceResults/maricopa_2014_corrected.csv")
maricopa_2016_congress <- read_csv("./CongressRaceResults/maricopa_2016_corrected.csv")
maricopa_2018_congress <- read_csv("./CongressRaceResults/maricopa_2018_corrected.csv")
# loading demographic data
maricopa_basics_2012 <- readRDS("./Demographics/maricopa_basics_2012.RDS") %>%
.[[1]]
maricopa_basics_2013 <- readRDS("./Demographics/maricopa_basics_2013.RDS") %>%
.[[1]]
maricopa_basics_2014 <- readRDS("./Demographics/maricopa_basics_2014.RDS") %>%
.[[1]]
maricopa_basics_2015 <- readRDS("./Demographics/maricopa_basics_2015.RDS") %>%
.[[1]]
maricopa_basics_2016 <- readRDS("./Demographics/maricopa_basics_2016.RDS") %>%
.[[1]]
maricopa_basics_2017 <- readRDS("./Demographics/maricopa_basics_2017.RDS") %>%
.[[1]]
maricopa_basics_2018 <- readRDS("./Demographics/maricopa_basics_2018.RDS") %>%
.[[1]]
maricopa_demographics_2012 <- readRDS("./Demographics/maricopa_demographics_2012.RDS") %>%
.[[1]]
maricopa_demographics_2013 <- readRDS("./Demographics/maricopa_demographics_2013.RDS") %>%
.[[1]]
maricopa_demographics_2014 <- readRDS("./Demographics/maricopa_demographics_2014.RDS") %>%
.[[1]]
maricopa_demographics_2015 <- readRDS("./Demographics/maricopa_demographics_2015.RDS") %>%
.[[1]]
maricopa_demographics_2016 <- readRDS("./Demographics/maricopa_demographics_2016.RDS") %>%
.[[1]]
maricopa_demographics_2017 <- readRDS("./Demographics/maricopa_demographics_2017.RDS") %>%
.[[1]]
maricopa_demographics_2018 <- readRDS("./Demographics/maricopa_demographics_2018.RDS") %>%
.[[1]]
View(maricopa_demographics_2012)
